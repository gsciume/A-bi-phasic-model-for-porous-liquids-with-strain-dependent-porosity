# Porous Media Finite Element Simulations

A collection of **Finite Element Method (FEM)** simulations developed using **DolfinX** to model problems involving **porous media mechanics** for **porous liquid** formulations. The project is structured into two main simulation cases: a channel flow problem and a transient consolidation problem.

---

## Project Structure

The core of the project is organized into two main directories, each representing a distinct simulation case. Utility scripts shared across simulations are located within the `service_files_*` directories.

```text
.
‚îú‚îÄ‚îÄ Channel/
‚îÇ       ‚îú‚îÄ‚îÄ Croix_porous_liquid.py
‚îÇ       ‚îî‚îÄ‚îÄ service_files_channel/
‚îî‚îÄ‚îÄ Consolidation/
        ‚îú‚îÄ‚îÄ Porous_Liquid.py
        ‚îî‚îÄ‚îÄ service_files_consolidation/
````

-----

## üõ†Ô∏è Prerequisites

The simulations rely on the **FEniCS Project** ecosystem. The following dependencies are required:

  * **Python 3.x**
  * **FEniCSx** (The core Finite Element library)
  * **mpi4py** (For parallel execution)
  * **Gmsh** (Used for mesh generation)
  * **Pandas**

-----

## Simulation Cases

### 1\. Channel Flow Simulation (`Channel/`)

This case simulates fluid flow through a domain, including a T-junction (dead-end), using a porous liquid model.

| File/Folder | Description |
| :--- | :--- |
| `Croix_porous_liquid.py` | **Main execution script** for setting up and running the channel flow simulation. |
| `service_files_channel/` | Contains the utility modules. |

### 2\. Consolidation Simulation (`Consolidation/`)

This case focuses on the transient problem of **consolidation**, modeling the dissipation of fluid pressure under load in a porous medium. The geometry is likely an axisymmetric rectangle.

| File/Folder | Description |
| :--- | :--- |
| `Porous_Liquid.py` | **Main execution script** for solving the time-dependent consolidation problem. |
| `service_files_consolidation/` | Contains the utility modules. |

-----

## Utility Modules

The following Python modules define core components and are utilized by both main simulation scripts (`Croix_porous_liquid.py` and `Porous_Liquid.py`):

| File | Description |
| :--- | :--- |
| `constitutive_laws.py` | Defines material-specific **constitutive laws**, including functions for computing coefficients (e.g., Byrne coefficients) for the **cohesive zone model** applied to porous media. |
| `functions.py` | Contains general **DolfinX utility functions**, such as solver configuration settings, numerical differentiation functions, and specialized **Axisymmetric operators** (e.g., `grad_cyl_x`, `div_cyl_x`). |
| `geometry_porous_liquid.py` | Provides Python functions (e.g., `Axysimmetric_rectangle_mesh`) for programmatically generating the **Gmsh geometries** and defining boundary conditions tags for the different simulation domains. |

-----

## How to Run a Simulation

1.  **Navigate** to the desired simulation directory:

    ```bash
    # For the Channel simulation
    cd Channel/ 
    # OR
    # For the Consolidation simulation
    cd Consolidation/
    ```

2.  **Execute** the main Python script using `mpiexec` for parallel processing (recommended for performance with DolfinX):

    ```bash
    # Run Channel flow simulation on 4 cores
    mpiexec -n 4 python3 Croix_porous_liquid.py

    # Run Consolidation simulation on 4 cores
    mpiexec -n 4 python3 Porous_Liquid.py
    ```

-----

*Note: Any output files, mesh logs, or temporary caches generated by the scripts are ignored in this documentation.*
